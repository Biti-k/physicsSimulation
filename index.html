<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Tiro Parab√≥lico</title>
<style>
  body { background: #111; color: white; font-family: Arial; margin: 0; overflow: hidden; }
  #controls { margin-bottom: 20px; }
  label { margin-right: 10px; }
  canvas { background: #222; border: 1px solid #555; }
  #bola{ 
    background-color: red; 
    width: 40px; 
    height: 40px; 
    border-radius: 50%; 
    position: absolute; 
  }
</style>
</head>
<body>

<h2 style="z-index: 10; margin: 10px;">Tiro Parab√≥lico</h2>
<div id="bola"></div>
<div id="controles">
    <label>Velocidad inicial</label>
    <input type="text" id="velocidadInicial" placeholder="5 m/s">
    <label>Angulo</label>
    <input type="text" placeholder="20 grados" id="angulo">
    <label>Gravedad</label>
    <input type="text" placeholder="9.8 m/s¬≤" id="gravedad">
    <input type="button" value="Shoot üî•" id="dispararClick">
</div>

<script>
let bola = document.getElementById("bola");
let posX = 0;
let posY = window.innerHeight - 60; 
let g = 980; // Gravedad en p√≠xeles/segundo¬≤
let velH = 8 * 100 ;
let angulo = 60 * Math.PI/180;
let velY = -Math.sin(angulo) * velH; // Velocidad inicial hacia arriba en p√≠xeles/segundo
let velX = Math.cos(angulo) * velH;
let dt = 0.016; // Delta tiempo en segundos (60 FPS)

bola.style.left = posX + "px";
bola.style.top = posY + "px";



const disparar = () => {
    g = document.getElementById("gravedad") * 100;
    velH = document.getElementById("velocidadInicial") * 100;
    angulo = document.getElementById("angulo");
    let velY = -Math.sin(angulo) * velH; // Velocidad inicial hacia arriba en p√≠xeles/segundo
    let velX = Math.cos(angulo) * velH;
    setInterval(mover, 16); // 60 FPS
}

const mover = () => {
    // Actualizar velocidad con gravedad
    velY = velY + g * dt;
    // Actualizar posici√≥n
    posY = posY + velY * dt;
    posX = posX + velX * dt;

    // Verificar si toca el suelo
    if (posY >= window.innerHeight - 50) {
        posY = window.innerHeight - 50;
        velX = 0;
        // velY = -velY * 0.75; // Rebote con p√©rdida de energ√≠a
        // velX = velX * 0.5;
        // // Si la velocidad es muy baja, paro la bola 
        // if (Math.abs(velY) < 50) {
        //     velY = 0;
        // }
    }

    bola.style.left = posX + "px";
    bola.style.top = posY + "px";
}

document.getElementById("dispararClick").addEventListener("click", disparar);

</script>

</body>
</html>